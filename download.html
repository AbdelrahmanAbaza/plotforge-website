<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Download PlotForge – 14-Day Free Trial</title>

  <!-- Basic SEO -->
  <meta name="description" content="Download the PlotForge 14-day free trial. Engineer-friendly data analysis for CSV & Excel – faster than Excel, simpler than MATLAB.">

  <!-- Open Graph (social sharing) -->
  <meta property="og:title" content="Download PlotForge – 14-Day Free Trial">
  <meta property="og:description" content="Get the latest PlotForge installer and start your 14-day free trial.">
  <meta property="og:type" content="website">

  <style>
    :root {
      --primary: #ff7b00;
      --primary-soft: #fff1df;
      --accent: #ff7b00;
      --bg: #f7f7f7;
      --text: #333333;
      --muted: #777777;
      --radius-lg: 12px;
      --shadow-soft: 0 2px 10px rgba(0,0,0,0.08);
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg);
      color: var(--text);
      margin: 0;
      padding: 0;
      line-height: 1.6;
      scroll-behavior: smooth;
    }

    header {
      background: linear-gradient(135deg, #808080, #b0b0b0);
      color: #ffffff;
      padding: 2.4rem 1.5rem 2rem;
      text-align: center;
      box-shadow: 0 2px 12px rgba(0,0,0,0.12);
    }

    header h1 {
      margin: 0 0 0.5rem;
      font-size: 2.2rem;
      letter-spacing: 0.03em;
    }

    .tagline {
      font-size: 1rem;
      max-width: 640px;
      margin: 0.25rem auto 0.5rem;
      opacity: 0.96;
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.25rem 0.75rem;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.12);
      font-size: 0.85rem;
      margin-bottom: 0.75rem;
    }

    nav {
      margin-top: 0;
      padding: 0.75rem 1.5rem 0.9rem;
      text-align: center;
      background: #ffffff;
      box-shadow: 0 1px 4px rgba(0,0,0,0.06);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    nav a {
      margin: 0 12px;
      text-decoration: none;
      color: var(--primary);
      font-weight: 600;
      font-size: 0.95rem;
    }

    nav a:hover {
      text-decoration: underline;
    }

    main {
      max-width: 900px;
      margin: 2rem auto;
      padding: 0 1.5rem 2.5rem;
    }

    .download-card {
      background: #ffffff;
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-soft);
      padding: 1.75rem 1.75rem 2rem;
    }

    .eyebrow {
      text-transform: uppercase;
      letter-spacing: 0.12em;
      font-size: 0.78rem;
      color: var(--muted);
      margin-bottom: 0.25rem;
    }

    h2 {
      margin-top: 0;
      margin-bottom: 0.75rem;
    }

    .muted {
      color: var(--muted);
      font-size: 0.95rem;
    }

    .versions-list {
      margin: 1.25rem 0 1.5rem;
      padding: 0;
      list-style: none;
    }

    .version-item {
      border-radius: 10px;
      border: 1px solid #eeeeee;
      padding: 1rem 1.25rem;
      background: #fafafa;
      margin-bottom: 0.75rem;
    }

    .version-header {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 0.5rem;
      align-items: baseline;
      margin-bottom: 0.25rem;
    }

    .version-name {
      font-weight: 600;
    }

    .version-meta {
      font-size: 0.85rem;
      color: var(--muted);
    }

    .cta {
      display: inline-block;
      background: var(--primary);
      color: #ffffff;
      padding: 0.8rem 1.7rem;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      font-size: 0.98rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.16);
      transition: transform 0.08s ease, box-shadow 0.08s ease, background 0.08s ease, opacity 0.08s ease;
      border: none;
      cursor: pointer;
    }

    .cta:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.18);
      background: #e66f00;
      opacity: 0.95;
    }

    .cta-secondary {
      display: inline-block;
      padding: 0.75rem 1.4rem;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      font-size: 0.95rem;
      border: 2px solid var(--primary);
      background: #ffffff;
      color: var(--primary);
      transition: background 0.08s ease, color 0.08s ease, border-color 0.08s ease, transform 0.08s ease, box-shadow 0.08s ease;
      margin-left: 0.5rem;
    }

    .cta-secondary:hover {
      background: var(--primary);
      color: #ffffff;
      border-color: var(--primary);
      transform: translateY(-1px);
      box-shadow: 0 2px 10px rgba(0,0,0,0.15);
    }

    .actions-row {
      margin-top: 1.5rem;
    }

    .note {
      margin-top: 1rem;
      font-size: 0.9rem;
      color: var(--muted);
    }

    footer {
      text-align: center;
      padding: 2rem 1rem 2.5rem;
      font-size: 0.9rem;
      color: var(--muted);
    }

    @media (max-width: 600px) {
      header h1 {
        font-size: 1.9rem;
      }

      .cta,
      .cta-secondary {
        display: block;
        width: 100%;
        text-align: center;
        margin-left: 0;
        margin-bottom: 0.6rem;
      }

      .download-card {
        padding: 1.5rem 1.25rem 1.75rem;
      }
    }

    /* --- POPUP / MODAL STYLES --- */

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.45);
      display: none; /* hidden by default */
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .modal {
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.25);
      max-width: 420px;
      width: 92%;
      padding: 1.6rem 1.75rem 1.75rem;
      position: relative;
    }

    .modal h3 {
      margin-top: 0;
      margin-bottom: 0.4rem;
    }

    .modal-subtitle {
      font-size: 0.9rem;
      color: var(--muted);
      margin-bottom: 1rem;
    }

    .modal-close {
      position: absolute;
      top: 10px;
      right: 12px;
      background: transparent;
      border: none;
      font-size: 1.2rem;
      cursor: pointer;
      color: var(--muted);
    }

    .form-field {
      margin-bottom: 0.9rem;
    }

    .form-field label {
      display: block;
      font-size: 0.9rem;
      margin-bottom: 0.2rem;
    }

    .form-field span.required {
      color: #d00;
      font-weight: bold;
      margin-left: 2px;
    }

    .form-field input {
      width: 100%;
      padding: 0.5rem 0.6rem;
      border-radius: 6px;
      border: 1px solid #cccccc;
      font-size: 0.95rem;
      font-family: inherit;
    }

    .form-field input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(255,123,0,0.15);
    }

    .modal-footer-text {
      font-size: 0.8rem;
      color: var(--muted);
      margin-top: 0.5rem;
    }

    .modal-actions {
      margin-top: 1rem;
      display: flex;
      justify-content: flex-end;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .btn-ghost {
      background: transparent;
      border-radius: 8px;
      border: 1px solid #cccccc;
      padding: 0.55rem 0.95rem;
      font-size: 0.9rem;
      cursor: pointer;
      font-weight: 500;
    }

    .btn-ghost:hover {
      background: #f5f5f5;
    }

    .btn-primary {
      background: var(--primary);
      border: none;
      color: #ffffff;
      border-radius: 8px;
      padding: 0.6rem 1.3rem;
      font-size: 0.95rem;
      cursor: pointer;
      font-weight: 600;
    }

    .btn-primary:hover {
      background: #e66f00;
    }

    .error-message {
      font-size: 0.8rem;
      color: #d00;
      margin-top: -0.3rem;
      margin-bottom: 0.6rem;
      display: none;
    }
  </style>
</head>
<body>

<header>
  <div class="hero-badge">
    <span>Built for engineering, quality &amp; analytics teams</span>
  </div>
  <h1>Download PlotForge</h1>
  <p class="tagline">
    Get the latest PlotForge installer and start your <strong>14-day free trial</strong>.
  </p>
</header>

<nav>
  <a href="index.html">Home</a>
  <a href="index.html#features">Features</a>
  <a href="index.html#download">Feature Summary</a>
  <a href="license.html">Licensing</a>
  <a href="index.html#contact">Contact</a>
</nav>

<main>
  <section class="download-card">
    <div class="eyebrow">Trial Download</div>
    <h2>PlotForge 14-Day Free Trial</h2>
    <p class="muted">
      Download the Windows installer below. The trial is fully featured – you can import your own data,
      create plots and regions, export results, and save/load sessions.
    </p>

    <ul class="versions-list">
      <li class="version-item">
        <div class="version-header">
          <span class="version-name">PlotForgeSetup_V1.exe</span>
          <span class="version-meta">Current version: v1.0.0 &nbsp;•&nbsp; Platform: Windows</span>
        </div>
        <p class="muted" style="margin: 0.25rem 0 0.9rem;">
          Standard Windows desktop installer. Requires permission to install applications on your machine.
        </p>

        <!-- CHANGED: this is a button that opens the popup instead of direct link -->
        <button
          type="button"
          class="cta"
          id="openDownloadModal"
        >
          Download 14-Day Trial (Windows)
        </button>
      </li>
    </ul>

    <div class="actions-row">
      <a href="index.html#what-is" class="cta-secondary">Back to Overview</a>
      <a href="license.html" class="cta-secondary">View Licensing Options</a>
    </div>

    <p class="note">
      After installing, you can request a full license at any time via the <em>Help &gt; Licensing</em> menu
      or by emailing <a href="mailto:support@plotforge.co.uk">support@plotforge.co.uk</a>.
    </p>
  </section>
</main>

<footer>
  © 2025 PlotForge &nbsp;|&nbsp; Built by Abdelrahman Abaza
</footer>

<!-- ===========================
     DOWNLOAD POPUP MODAL
     =========================== -->
<div class="modal-backdrop" id="downloadModalBackdrop" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="downloadModalTitle">
    <button class="modal-close" type="button" id="closeDownloadModal" aria-label="Close">×</button>
    <h3 id="downloadModalTitle">Before you download</h3>
    <p class="modal-subtitle">
      Please share a few details so we can support you better with PlotForge updates and tips.
    </p>

    <form id="downloadLeadForm" novalidate>
      <div class="form-field">
        <label for="leadName">Name <span class="required">*</span></label>
        <input type="text" id="leadName" name="name" required>
        <div class="error-message" id="nameError">Please enter your name.</div>
      </div>

      <div class="form-field">
        <label for="leadEmail">Email <span class="required">*</span></label>
        <input type="email" id="leadEmail" name="email" required>
        <div class="error-message" id="emailError">Please enter a valid email address.</div>
      </div>

      <div class="form-field">
        <label for="leadCompany">Company (optional)</label>
        <input type="text" id="leadCompany" name="company">
      </div>

      <div class="form-field">
        <label for="leadPhone">Phone (optional)</label>
        <input type="tel" id="leadPhone" name="phone">
      </div>

      <div class="modal-footer-text">
        We respect your privacy. Your details will only be used to support your use of PlotForge.
      </div>

      <div class="modal-actions">
        <button type="button" class="btn-ghost" id="cancelDownloadModal">Cancel</button>
        <button type="submit" class="btn-primary">Submit &amp; Download</button>
      </div>
    </form>
  </div>
</div>

<script>
  // --- CONFIG: your download URL ---
  const DOWNLOAD_URL = "https://github.com/AbdelrahmanAbaza/plotforge-website/releases/download/v1.0.0/PlotForgeSetup_V1.exe";

  // Elements
  const openBtn = document.getElementById('openDownloadModal');
  const backdrop = document.getElementById('downloadModalBackdrop');
  const closeBtn = document.getElementById('closeDownloadModal');
  const cancelBtn = document.getElementById('cancelDownloadModal');
  const form = document.getElementById('downloadLeadForm');

  const nameInput = document.getElementById('leadName');
  const emailInput = document.getElementById('leadEmail');
  const nameError = document.getElementById('nameError');
  const emailError = document.getElementById('emailError');

  function openModal() {
    backdrop.style.display = 'flex';
    backdrop.setAttribute('aria-hidden', 'false');
    nameInput.focus();
  }

  function closeModal() {
    backdrop.style.display = 'none';
    backdrop.setAttribute('aria-hidden', 'true');
  }

  // Open modal when clicking the download button
  openBtn.addEventListener('click', openModal);

  // Close buttons
  closeBtn.addEventListener('click', closeModal);
  cancelBtn.addEventListener('click', closeModal);

  // Close when clicking outside the modal
  backdrop.addEventListener('click', (e) => {
    if (e.target === backdrop) {
      closeModal();
    }
  });

  // Basic form validation + redirect
  form.addEventListener('submit', function (e) {
    e.preventDefault();

    let valid = true;

    // Reset errors
    nameError.style.display = 'none';
    emailError.style.display = 'none';

    const nameValue = nameInput.value.trim();
    const emailValue = emailInput.value.trim();

    if (!nameValue) {
      nameError.style.display = 'block';
      valid = false;
    }

    // Simple email check
    if (!emailValue || !emailValue.includes('@') || !emailValue.includes('.')) {
      emailError.style.display = 'block';
      valid = false;
    }

    if (!valid) {
      return;
    }

    // At this point, data is valid.
    // You can send it to your backend or a service like Formspree/Zapier/etc.
    // For now we'll just log it and redirect to the download URL.

    const payload = {
      name: nameValue,
      email: emailValue,
      company: document.getElementById('leadCompany').value.trim(),
      phone: document.getElementById('leadPhone').value.trim(),
      ts: new Date().toISOString()
    };

    console.log("New PlotForge lead:", payload);

    // TODO (optional):
    // 1) Use fetch() to POST 'payload' to your API / form service.
    // 2) Only redirect after a successful response.

    // Close the modal
    closeModal();

    // Start the download
    window.location.href = DOWNLOAD_URL;
  });
</script>

</body>
</html>
